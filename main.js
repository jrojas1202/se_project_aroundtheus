!function(){"use strict";class e{constructor(e,t){let{items:r,renderer:s}=e;this._items=r,this._renderer=s,this._container=t}renderItems(){console.log(this._items),this._items.forEach((e=>{this._renderer(e)}))}addItem(e){this._container.prepend(e)}}class t{constructor(e,t,r,s){let{name:n,link:o,_id:i}=e;this._name=n,this._link=o,this._id=i,this._cardSelector=t,this._cardElement=this._getTemplate(),this._cardLikeButton=this._cardElement.querySelector(".card__like-button"),this._cardDeleteButton=this._cardElement.querySelector(".card__delete-button"),this._handleDeleteCardClick=s,this._cardImage=this._cardElement.querySelector(".card__image"),this._handleImageClick=r,this._setEventListeners()}getId(){return this._id}_setEventListeners(){this._cardLikeButton.addEventListener("click",(()=>{this._handleLikeIcon()})),this._cardDeleteButton.addEventListener("click",(()=>{this._handleDeleteCardClick(this._id)})),this._cardImage.addEventListener("click",(()=>{this._handleImageClick({name:this._name,link:this._link})}))}_handleLikeIcon(){this._cardLikeButton.classList.toggle("card__like-button_active")}_handleDeleteCard(){this._cardElement.remove()}_getTemplate(){return document.querySelector(this._cardSelector).content.querySelector(".card").cloneNode(!0)}getView(){return this._cardImage.src=this._link,this._cardImage.alt=this._name,this._cardElement.querySelector(".card__title").textContent=this._name,this._cardElement}}class r{constructor(e){this._popupElement=document.querySelector(e),this._popupCloseButton=this._popupElement.querySelector(".modal__close")}open(){this._popupElement.classList.add("modal_opened"),document.addEventListener("keydown",this._handleEscClose)}close(){this._popupElement.classList.remove("modal_opened"),document.removeEventListener("keydown",this._handleEscClose)}_handleEscClose=e=>{"Escape"===e.key&&this.close()};setEventListeners(){this._popupCloseButton.addEventListener("click",(()=>{this.close()})),this._popupElement.addEventListener("mousedown",(e=>{e.target.classList.contains("modal")&&this.close()}))}}class s extends r{constructor(e,t){super(e),this._form=this._popupElement.querySelector(".modal__form"),this._handleFormSubmit=t}_getInputValues(){const e={};return this._form.querySelectorAll(".modal__input").forEach((t=>{e[t.name]=t.value})),e}setEventListeners(){super.setEventListeners(),this._form.addEventListener("submit",this._submitHandler)}_submitHandler=e=>{e.preventDefault();const t=this._getInputValues();this._handleFormSubmit(t)};close(){super.close(),this._form.reset()}}var n=class{constructor(e,t){this._formSelector=e.formSelector,this.inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e._inputErrorClass,this._errorClass=e._errorClass,this._form=t}_showInputError(e){const t=this._form.querySelector(`#${e.id}-error`);e.classList.add(this._inputErrorClass),t.textContent=e.validationMessage,t.classList.add(this._errorClass)}_hideInputError(e){const t=this._form.querySelector(`#${e.id}-error`);e.classList.remove(this._inputErrorClass),t.textContent="",t.classList.remove(this._errorClass)}_checkInputValidity(e){if(!e.validity.valid)return this._showInputError(e);this._hideInputError(e)}_hasInvalidInput(e){return!this._inputElements.every((e=>e.validity.valid))}_disableButton(){this._submitButton.disabled=!0,this._submitButton.classList.add(this._inactiveButtonClass)}_enableButton(){this._submitButton.disabled=!1,this._submitButton.classList.remove(this._inactiveButtonClass)}_toggleButtonState(){if(this._hasInvalidInput())return this._disableButton();this._enableButton()}resetValidation(){this._inputElements.forEach((e=>{this._hideInputError(e)})),this._disableButton()}_setEventListeners(){this._inputElements=[...this._form.querySelectorAll(this._inputSelector)],this._submitButton=this._form.querySelector(this._submitButtonSelector),this._inputElements.forEach((e=>{e.addEventListener("input",(()=>{this._checkInputValidity(e),this._toggleButtonState()}))}))}enableValidation(){this._form.addEventListener("submit",(e=>{e.preventDefault()})),this._setEventListeners()}};const o={formSelector:".modal__form",inputSelector:".modal__input",submitButtonSelector:".modal__button",inactiveButtonClass:"modal__button_disabled",inputErrorClass:"modal__error",errorClass:"modal__error_visible"};var i;i=o,[...document.querySelectorAll(i.formSelector)].forEach((e=>{e.addEventListener("submit",(e=>{e.preventDefault()})),function(e,t){const{inputSelector:r,submitButtonSelector:s}=t,n=[...e.querySelectorAll(r)],o=e.querySelector(s);n.forEach((r=>{r.addEventListener("input",(s=>{!function(e,t,r){t.validity.valid?function(e,t,r){let{inputErrorClass:s,errorClass:n}=r;const o=e.querySelector(`#${t.id}-error`);t.classList.remove(s),o&&(o.textContent="",o.classList.remove(n))}(e,t,r):function(e,t,r){let{inputErrorClass:s,errorClass:n}=r;const o=e.querySelector(`#${t.id}-error`);t.classList.add(s),o&&(o.textContent=t.validationMessage,o.classList.add(n))}(e,t,r)}(e,r,t),function(e,t,r){const{inactiveButtonClass:s}=r,n=(e=>e.every((e=>e.validity.valid)))(e);n?function(e,t){e.classList.remove(t),e.disabled=!1}(t,s):function(e,t){e.classList.add(t),e.disabled=!0}(t,s)}(n,o,t)}))}))}(e,i)}));const a=document.querySelector("#new-card-modal").querySelector(".modal__form"),l=document.querySelector("#profile-title-input"),c=document.querySelector("#profile-description-input"),u=document.querySelector(".cards__list"),d=document.querySelector(".profile__edit-button"),h=document.querySelector(".profile__add-button"),_=(document.querySelector(".modal__input-title"),document.querySelector(".modal__input-link"),document.querySelector("#new-card-modal"),document.querySelector("#profile-edit-modal").querySelector(".modal__form")),m=new class{constructor(e){let{baseUrl:t,authToken:r}=e;this._baseUrl=t,this._authToken=r}getCardList(){return fetch(`${this._baseUrl}/cards`,{headers:{authorization:this._authToken}}).then((e=>e.ok?e.json():Promise.reject(`Error: ${e.status}`))).catch((e=>{console.error(e)}))}getUserInfo(){return fetch(`${this._baseUrl}/users/me`,{headers:{authorization:this._authToken}}).then((e=>e.ok?e.json():Promise.reject(`Error: ${e.status}`))).catch((e=>{console.error(e)}))}addCard(e){let{name:t,link:r}=e;return fetch(`${this._baseUrl}/cards`,{method:"POST",headers:{authorization:this._authToken,"Content-Type":"application/json"},body:JSON.stringify({name:t,link:r})}).then((e=>e.ok?e.json():Promise.reject(`Error: ${e.status}`))).catch((e=>{console.error(e)}))}removeCard(e){return fetch(`${this._baseUrl}/cards/${e}`,{method:"DELETE",headers:{authorization:this._authToken,"Content-Type":"application/json"}}).then((e=>e.ok?e.json():Promise.reject(`Error: ${e.status}`))).catch((e=>{console.error(e)}))}updateProfilePicture(e){return fetch(`${this._baseUrl}/users/me/avatar`,{method:"PATCH",headers:{authorization:this._authToken,"Content-Type":"application/json"},body:JSON.stringify({avatar:e})}).then((e=>e.ok?e.json():Promise.reject(`Error: ${e.status}`))).catch((e=>{console.error(e)}))}}({baseUrl:"https://around-api.en.tripleten-services.com/v1",authToken:"92f7ebfa-9e8e-4fb8-b0a3-1cdaa15ccbe0"});let p;function E(e){const r=new t(e,"#card-template",f,(e=>function(e,t){m.removeCard(e).then((e=>{t._handleDeleteCard()}))}(e,r)));return r.getView()}function f(e){S.open(e)}m.getCardList().then((t=>{console.log(t),p=new e({items:t,renderer:e=>{const t=E(e);p.addItem(t)}},u),p.renderItems()}));const v=new class{constructor(e){this.nameElement=document.querySelector(e.userNameSelector),this.jobElement=document.querySelector(e.userTitleSelector)}getUserInfo(){return{name:this.nameElement.textContent,job:this.jobElement.textContent}}setUserInfo(e){this.nameElement.textContent=e.name,this.jobElement.textContent=e.job}}({userNameSelector:".profile__title",userTitleSelector:".profile__description"});m.getUserInfo().then((e=>{v.setUserInfo({name:e.name,job:e.about})})),document.querySelector("#profile-picture-input").addEventListener("change",(e=>{e.target.files[0]&&m.updateProfilePicture(newProfilePictureUrl).then((e=>{console.log("Profile picture updated successfully")})).catch((e=>{console.error("Error updating profile picture:",e)}))}));const S=new class extends r{constructor(e){super(e),this._containerImage=this._popupElement.querySelector(".modal__container-image"),this._containerImageTitle=this._popupElement.querySelector(".modal__image_title")}open(e){let{name:t,link:r}=e;const s=this._containerImage.querySelector(".modal__image");this._containerImageTitle.textContent=t,s.alt=t,s.src=r,super.open()}}("#image-modal",(function(e){S.open(e)}));S.setEventListeners();const b=new s("#profile-edit-modal",(function(e){v.setUserInfo(e),b.close()}));b.setEventListeners(),d.addEventListener("click",(()=>{!function(){const e=v.getUserInfo();l.value=e.name,c.value=e.job,b.open()}()}));const y=new s("#new-card-modal",(function(e){m.addCard(e).then((e=>{const t=E(e);p.addItem(t),y.close()}))}));y.setEventListeners(),h.addEventListener("click",(()=>{C.resetValidation(),y.open()})),new n(o,_).enableValidation();const C=new n(o,a);C.enableValidation()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RUFBa0IzRyxvQkFPbEIsTUFBTTJILEVBQW1CLElBQUl2SCxFQUMzQix1QkFlRixTQUFpQ1ksR0FDL0I0RixFQUFTTyxZQUFZbkcsR0FDckIyRyxFQUFpQi9ILE9BQ25CLElBZkErSCxFQUFpQjNILG9CQUNqQnFFLEVBQWtCN0YsaUJBQWlCLFNBQVMsTUFJNUMsV0FDRSxNQUFNNEksRUFBT1IsRUFBU2pCLGNBQ3RCekIsRUFBY3JELE1BQVF1RyxFQUFLNUosS0FDM0IyRyxFQUFxQnRELE1BQVF1RyxFQUFLRixJQUNsQ1MsRUFBaUJsSSxNQUNuQixDQVJFbUksRUFBd0IsSUFnQjFCLE1BQU1DLEVBQWUsSUFBSXpILEVBQWMsbUJBT3ZDLFNBQTZCWSxHQUMzQndELEVBQUlvQixRQUFRNUUsR0FBYWlFLE1BQU1DLElBQzdCLE1BQU00QyxFQUFVdkIsRUFBV3JCLEdBQzNCb0IsRUFBUXBKLFFBQVE0SyxHQUNoQkQsRUFBYWpJLE9BQU8sR0FFeEIsSUFaQWlJLEVBQWE3SCxvQkFDYnNFLEVBQWM5RixpQkFBaUIsU0FBUyxLQUN0Q3VKLEVBQXFCaEYsa0JBQ3JCOEUsRUFBYXBJLE1BQU0sSUFhWSxJQUFJdUksRUFDbkM5RSxFQUNBcUIsR0FFdUJ0QixtQkFFekIsTUFBTThFLEVBQXVCLElBQUlDLEVBQWM5RSxFQUFvQmUsR0FDbkU4RCxFQUFxQjlFLGtCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvc2NyaXB0cy92YWxpZGF0aW9uLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy91dGlscy9jb25zdGFudC5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvcGFnZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvQXBpLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xyXG4gIGNvbnN0cnVjdG9yKHsgaXRlbXMsIHJlbmRlcmVyIH0sIGNvbnRhaW5lcikge1xyXG4gICAgdGhpcy5faXRlbXMgPSBpdGVtcztcclxuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XHJcbiAgICB0aGlzLl9jb250YWluZXIgPSBjb250YWluZXI7XHJcbiAgfVxyXG5cclxuICByZW5kZXJJdGVtcygpIHtcclxuICAgIGNvbnNvbGUubG9nKHRoaXMuX2l0ZW1zKTtcclxuICAgIHRoaXMuX2l0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgdGhpcy5fcmVuZGVyZXIoaXRlbSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGFkZEl0ZW0oaXRlbSkge1xyXG4gICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoaXRlbSk7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgeyBuYW1lLCBsaW5rLCBfaWQgfSxcclxuICAgIGNhcmRTZWxlY3RvcixcclxuICAgIGhhbmRsZUltYWdlQ2xpY2ssXHJcbiAgICBoYW5kbGVEZWxldGVDYXJkQ2xpY2tcclxuICApIHtcclxuICAgIHRoaXMuX25hbWUgPSBuYW1lO1xyXG4gICAgdGhpcy5fbGluayA9IGxpbms7XHJcbiAgICB0aGlzLl9pZCA9IF9pZDtcclxuICAgIHRoaXMuX2NhcmRTZWxlY3RvciA9IGNhcmRTZWxlY3RvcjtcclxuICAgIHRoaXMuX2NhcmRFbGVtZW50ID0gdGhpcy5fZ2V0VGVtcGxhdGUoKTtcclxuICAgIHRoaXMuX2NhcmRMaWtlQnV0dG9uID1cclxuICAgICAgdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19saWtlLWJ1dHRvblwiKTtcclxuICAgIHRoaXMuX2NhcmREZWxldGVCdXR0b24gPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBcIi5jYXJkX19kZWxldGUtYnV0dG9uXCJcclxuICAgICk7XHJcbiAgICB0aGlzLl9oYW5kbGVEZWxldGVDYXJkQ2xpY2sgPSBoYW5kbGVEZWxldGVDYXJkQ2xpY2s7XHJcbiAgICB0aGlzLl9jYXJkSW1hZ2UgPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2ltYWdlXCIpO1xyXG4gICAgdGhpcy5faGFuZGxlSW1hZ2VDbGljayA9IGhhbmRsZUltYWdlQ2xpY2s7XHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG4gIH1cclxuXHJcbiAgZ2V0SWQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5faWQ7XHJcbiAgfVxyXG5cclxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9jYXJkTGlrZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICB0aGlzLl9oYW5kbGVMaWtlSWNvbigpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5fY2FyZERlbGV0ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICB0aGlzLl9oYW5kbGVEZWxldGVDYXJkQ2xpY2sodGhpcy5faWQpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5fY2FyZEltYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuX2hhbmRsZUltYWdlQ2xpY2soeyBuYW1lOiB0aGlzLl9uYW1lLCBsaW5rOiB0aGlzLl9saW5rIH0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlTGlrZUljb24oKSB7XHJcbiAgICB0aGlzLl9jYXJkTGlrZUJ1dHRvbi5jbGFzc0xpc3QudG9nZ2xlKFwiY2FyZF9fbGlrZS1idXR0b25fYWN0aXZlXCIpO1xyXG4gIH1cclxuXHJcbiAgX2hhbmRsZURlbGV0ZUNhcmQoKSB7XHJcbiAgICB0aGlzLl9jYXJkRWxlbWVudC5yZW1vdmUoKTtcclxuICB9XHJcblxyXG4gIF9nZXRUZW1wbGF0ZSgpIHtcclxuICAgIHJldHVybiBkb2N1bWVudFxyXG4gICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl9jYXJkU2VsZWN0b3IpXHJcbiAgICAgIC5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZFwiKVxyXG4gICAgICAuY2xvbmVOb2RlKHRydWUpO1xyXG4gIH1cclxuXHJcbiAgZ2V0VmlldygpIHtcclxuICAgIHRoaXMuX2NhcmRJbWFnZS5zcmMgPSB0aGlzLl9saW5rO1xyXG4gICAgdGhpcy5fY2FyZEltYWdlLmFsdCA9IHRoaXMuX25hbWU7XHJcbiAgICB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX3RpdGxlXCIpLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcclxuXHJcbiAgICByZXR1cm4gdGhpcy5fY2FyZEVsZW1lbnQ7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBjbGFzcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xyXG4gICAgdGhpcy5fcG9wdXBFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX3BvcHVwQ2xvc2VCdXR0b24gPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fY2xvc2VcIik7XHJcbiAgfVxyXG5cclxuICBvcGVuKCkge1xyXG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJtb2RhbF9vcGVuZWRcIik7XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgfVxyXG5cclxuICBjbG9zZSgpIHtcclxuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwibW9kYWxfb3BlbmVkXCIpO1xyXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xyXG4gIH1cclxuXHJcbiAgX2hhbmRsZUVzY0Nsb3NlID0gKGV2ZW50KSA9PiB7XHJcbiAgICBpZiAoZXZlbnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH1cclxuICB9O1xyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fcG9wdXBDbG9zZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9KTtcclxuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIChldnQpID0+IHtcclxuICAgICAgaWYgKGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwibW9kYWxcIikpIHtcclxuICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBQb3B1cCB9IGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIGhhbmRsZUZvcm1TdWJtaXQpIHtcclxuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fZm9ybSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19mb3JtXCIpO1xyXG4gICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCA9IGhhbmRsZUZvcm1TdWJtaXQ7XHJcbiAgfVxyXG5cclxuICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XHJcbiAgICBjb25zdCB2YWx1ZXMgPSB7fTtcclxuICAgIHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvckFsbChcIi5tb2RhbF9faW5wdXRcIikuZm9yRWFjaCgoaW5wdXQpID0+IHtcclxuICAgICAgdmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XHJcbiAgICB9KTtcclxuICAgIHJldHVybiB2YWx1ZXM7XHJcbiAgfVxyXG5cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgdGhpcy5fc3VibWl0SGFuZGxlcik7XHJcbiAgfVxyXG5cclxuICBfc3VibWl0SGFuZGxlciA9IChldnQpID0+IHtcclxuICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgY29uc3QgaW5wdXRWYWx1ZXMgPSB0aGlzLl9nZXRJbnB1dFZhbHVlcygpO1xyXG4gICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdChpbnB1dFZhbHVlcyk7XHJcbiAgfTtcclxuXHJcbiAgY2xvc2UoKSB7XHJcbiAgICBzdXBlci5jbG9zZSgpO1xyXG4gICAgdGhpcy5fZm9ybS5yZXNldCgpO1xyXG4gIH1cclxufVxyXG4iLCJjbGFzcyBGb3JtVmFsaWRhdG9yIHtcclxuICBjb25zdHJ1Y3RvcihzZXR0aW5ncywgZm9ybUVsZW1lbnQpIHtcclxuICAgIHRoaXMuX2Zvcm1TZWxlY3RvciA9IHNldHRpbmdzLmZvcm1TZWxlY3RvcjtcclxuICAgIHRoaXMuaW5wdXRTZWxlY3RvciA9IHNldHRpbmdzLmlucHV0U2VsZWN0b3I7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3RvciA9IHNldHRpbmdzLnN1Ym1pdEJ1dHRvblNlbGVjdG9yO1xyXG4gICAgdGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyA9IHNldHRpbmdzLmluYWN0aXZlQnV0dG9uQ2xhc3M7XHJcbiAgICB0aGlzLl9pbnB1dEVycm9yQ2xhc3MgPSBzZXR0aW5ncy5faW5wdXRFcnJvckNsYXNzO1xyXG4gICAgdGhpcy5fZXJyb3JDbGFzcyA9IHNldHRpbmdzLl9lcnJvckNsYXNzO1xyXG5cclxuICAgIHRoaXMuX2Zvcm0gPSBmb3JtRWxlbWVudDtcclxuICB9XHJcblxyXG4gIF9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpIHtcclxuICAgIGNvbnN0IGVycm9yTWVzc2FnZUVsZW1lbnQgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIGAjJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYFxyXG4gICAgKTtcclxuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XHJcbiAgICBlcnJvck1lc3NhZ2VFbGVtZW50LnRleHRDb250ZW50ID0gaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlO1xyXG4gICAgZXJyb3JNZXNzYWdlRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2Vycm9yQ2xhc3MpO1xyXG4gIH1cclxuXHJcbiAgX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCkge1xyXG4gICAgY29uc3QgZXJyb3JNZXNzYWdlRWxlbWVudCA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcihcclxuICAgICAgYCMke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgXHJcbiAgICApO1xyXG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcclxuICAgIGVycm9yTWVzc2FnZUVsZW1lbnQudGV4dENvbnRlbnQgPSBcIlwiO1xyXG4gICAgZXJyb3JNZXNzYWdlRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2Vycm9yQ2xhc3MpO1xyXG4gIH1cclxuXHJcbiAgX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpIHtcclxuICAgIGlmICghaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xyXG4gICAgfVxyXG4gICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcclxuICB9XHJcblxyXG4gIF9oYXNJbnZhbGlkSW5wdXQoaW5wdXRFbGVtZW50cykge1xyXG4gICAgcmV0dXJuICF0aGlzLl9pbnB1dEVsZW1lbnRzLmV2ZXJ5KFxyXG4gICAgICAoaW5wdXRFbGVtZW50KSA9PiBpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWRcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICBfZGlzYWJsZUJ1dHRvbigpIHtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24uY2xhc3NMaXN0LmFkZCh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICB9XHJcblxyXG4gIF9lbmFibGVCdXR0b24oKSB7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gIH1cclxuXHJcbiAgX3RvZ2dsZUJ1dHRvblN0YXRlKCkge1xyXG4gICAgaWYgKHRoaXMuX2hhc0ludmFsaWRJbnB1dCgpKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLl9kaXNhYmxlQnV0dG9uKCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9lbmFibGVCdXR0b24oKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJlc2V0VmFsaWRhdGlvbigpIHtcclxuICAgIHRoaXMuX2lucHV0RWxlbWVudHMuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLl9kaXNhYmxlQnV0dG9uKCk7XHJcbiAgfVxyXG5cclxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9pbnB1dEVsZW1lbnRzID0gWy4uLnRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9pbnB1dFNlbGVjdG9yKV07XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24gPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IodGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IpOyAvLyBtb3ZlIHRvIHRoZSBjb25zdHJ1Y3RvclxyXG5cclxuICAgIHRoaXMuX2lucHV0RWxlbWVudHMuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpO1xyXG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBlbmFibGVWYWxpZGF0aW9uKCkge1xyXG4gICAgdGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpID0+IHtcclxuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB9KTtcclxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBGb3JtVmFsaWRhdG9yO1xyXG4iLCIvL0Vycm9yIEZ1bmN0aW9uc1xyXG5cclxuZnVuY3Rpb24gc2hvd0lucHV0RXJyb3IoXHJcbiAgZm9ybUVsZW1lbnQsXHJcbiAgaW5wdXRFbGVtZW50LFxyXG4gIHsgaW5wdXRFcnJvckNsYXNzLCBlcnJvckNsYXNzIH1cclxuKSB7XHJcbiAgY29uc3QgZXJyb3JNZXNzYWdlRWxlbWVudCA9IGZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICBgIyR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmBcclxuICApO1xyXG5cclxuICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LmFkZChpbnB1dEVycm9yQ2xhc3MpO1xyXG5cclxuICBpZiAoZXJyb3JNZXNzYWdlRWxlbWVudCkge1xyXG4gICAgZXJyb3JNZXNzYWdlRWxlbWVudC50ZXh0Q29udGVudCA9IGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZTtcclxuICAgIGVycm9yTWVzc2FnZUVsZW1lbnQuY2xhc3NMaXN0LmFkZChlcnJvckNsYXNzKTtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhpZGVJbnB1dEVycm9yKFxyXG4gIGZvcm1FbGVtZW50LFxyXG4gIGlucHV0RWxlbWVudCxcclxuICB7IGlucHV0RXJyb3JDbGFzcywgZXJyb3JDbGFzcyB9XHJcbikge1xyXG4gIGNvbnN0IGVycm9yTWVzc2FnZUVsZW1lbnQgPSBmb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgYCMke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgXHJcbiAgKTtcclxuXHJcbiAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoaW5wdXRFcnJvckNsYXNzKTtcclxuXHJcbiAgaWYgKGVycm9yTWVzc2FnZUVsZW1lbnQpIHtcclxuICAgIGVycm9yTWVzc2FnZUVsZW1lbnQudGV4dENvbnRlbnQgPSBcIlwiO1xyXG4gICAgZXJyb3JNZXNzYWdlRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKGVycm9yQ2xhc3MpO1xyXG4gIH1cclxufVxyXG5cclxuLy8gVkFMSURBVElPTiBPRiBJTlBVVFxyXG5cclxuZnVuY3Rpb24gY2hlY2tJbnB1dFZhbGlkaXR5KGZvcm1FbGVtZW50LCBpbnB1dEVsZW1lbnQsIG9wdGlvbnMpIHtcclxuICBpZiAoIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xyXG4gICAgc2hvd0lucHV0RXJyb3IoZm9ybUVsZW1lbnQsIGlucHV0RWxlbWVudCwgb3B0aW9ucyk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGhpZGVJbnB1dEVycm9yKGZvcm1FbGVtZW50LCBpbnB1dEVsZW1lbnQsIG9wdGlvbnMpO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gaGFzSW52YWxpZElucHV0KGlucHV0TGlzdCkge1xyXG4gIHJldHVybiAhaW5wdXRMaXN0LmV2ZXJ5KChpbnB1dEVsZW1lbnQpID0+IGlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCk7XHJcbn1cclxuXHJcbi8vIGRpc2FibGUgYnV0dG9uIGZ1bmN0aW9uc1xyXG5mdW5jdGlvbiBkaXNhYmxlQnV0dG9uKHN1Ym1pdEJ1dHRvbiwgaW5hY3RpdmVCdXR0b25DbGFzcykge1xyXG4gIHN1Ym1pdEJ1dHRvbi5jbGFzc0xpc3QuYWRkKGluYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gIHN1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XHJcbn1cclxuXHJcbi8vIGVuYWJsZSBidXR0b24gZnVuY3Rpb25cclxuZnVuY3Rpb24gZW5hYmxlQnV0dG9uKHN1Ym1pdEJ1dHRvbiwgaW5hY3RpdmVCdXR0b25DbGFzcykge1xyXG4gIHN1Ym1pdEJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKGluYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gIHN1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xyXG59XHJcblxyXG4vLyBUT0dHTEUgQlVUVE9OXHJcblxyXG5mdW5jdGlvbiB0b2dnbGVCdXR0b25TdGF0ZShpbnB1dEVsZW1lbnRzLCBzdWJtaXRCdXR0b24sIHZhbGlkYXRpb25Db25maWcpIHtcclxuICBjb25zdCB7IGluYWN0aXZlQnV0dG9uQ2xhc3MgfSA9IHZhbGlkYXRpb25Db25maWc7XHJcblxyXG4gIGNvbnN0IGNoZWNrRm9ybVZhbGlkaXR5ID0gKGlucHV0RWxlbWVudHMpID0+XHJcbiAgICBpbnB1dEVsZW1lbnRzLmV2ZXJ5KChpbnB1dEVsZW1lbnQpID0+IGlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCk7XHJcblxyXG4gIGNvbnN0IGlzRm9ybVZhbGlkID0gY2hlY2tGb3JtVmFsaWRpdHkoaW5wdXRFbGVtZW50cyk7XHJcbiAgaWYgKGlzRm9ybVZhbGlkKSB7XHJcbiAgICBlbmFibGVCdXR0b24oc3VibWl0QnV0dG9uLCBpbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICB9IGVsc2Uge1xyXG4gICAgZGlzYWJsZUJ1dHRvbihzdWJtaXRCdXR0b24sIGluYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gIH1cclxufVxyXG5cclxuLy8gc2V0RXZlbnRMaXN0ZW5lciBGVU5DVElPTlxyXG5cclxuZnVuY3Rpb24gc2V0RXZlbnRMaXN0ZW5lcnMoZm9ybUVsZW1lbnQsIG9wdGlvbnMpIHtcclxuICBjb25zdCB7IGlucHV0U2VsZWN0b3IsIHN1Ym1pdEJ1dHRvblNlbGVjdG9yIH0gPSBvcHRpb25zO1xyXG4gIGNvbnN0IGlucHV0RWxlbWVudHMgPSBbLi4uZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChpbnB1dFNlbGVjdG9yKV07XHJcbiAgY29uc3Qgc3VibWl0QnV0dG9uID0gZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihzdWJtaXRCdXR0b25TZWxlY3Rvcik7XHJcblxyXG4gIGlucHV0RWxlbWVudHMuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsIChldnQpID0+IHtcclxuICAgICAgY2hlY2tJbnB1dFZhbGlkaXR5KGZvcm1FbGVtZW50LCBpbnB1dEVsZW1lbnQsIG9wdGlvbnMpO1xyXG4gICAgICB0b2dnbGVCdXR0b25TdGF0ZShpbnB1dEVsZW1lbnRzLCBzdWJtaXRCdXR0b24sIG9wdGlvbnMpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGVuYWJsZVZhbGlkYXRpb24ob3B0aW9ucykge1xyXG4gIGNvbnN0IGZvcm1FbGVtZW50cyA9IFsuLi5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKG9wdGlvbnMuZm9ybVNlbGVjdG9yKV07XHJcbiAgZm9ybUVsZW1lbnRzLmZvckVhY2goKGZvcm1FbGVtZW50KSA9PiB7XHJcbiAgICBmb3JtRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpID0+IHtcclxuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB9KTtcclxuICAgIHNldEV2ZW50TGlzdGVuZXJzKGZvcm1FbGVtZW50LCBvcHRpb25zKTtcclxuICB9KTtcclxufVxyXG5cclxuLy8gQ29uZmlnXHJcblxyXG5leHBvcnQgY29uc3QgdmFsaWRhdGlvblNldHRpbmdzID0ge1xyXG4gIGZvcm1TZWxlY3RvcjogXCIubW9kYWxfX2Zvcm1cIixcclxuICBpbnB1dFNlbGVjdG9yOiBcIi5tb2RhbF9faW5wdXRcIixcclxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIubW9kYWxfX2J1dHRvblwiLFxyXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6IFwibW9kYWxfX2J1dHRvbl9kaXNhYmxlZFwiLFxyXG4gIGlucHV0RXJyb3JDbGFzczogXCJtb2RhbF9fZXJyb3JcIixcclxuICBlcnJvckNsYXNzOiBcIm1vZGFsX19lcnJvcl92aXNpYmxlXCIsXHJcbn07XHJcblxyXG5lbmFibGVWYWxpZGF0aW9uKHZhbGlkYXRpb25TZXR0aW5ncyk7XHJcblxyXG5leHBvcnQgY29uc3QgYWRkQ2FyZE1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNuZXctY2FyZC1tb2RhbFwiKTtcclxuZXhwb3J0IGNvbnN0IGFkZENhcmRGb3JtID0gYWRkQ2FyZE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Zvcm1cIik7XHJcbiIsImV4cG9ydCBjb25zdCB1c2VyTmFtZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlLXRpdGxlLWlucHV0XCIpO1xyXG5leHBvcnQgY29uc3QgdXNlckRlc2NyaXB0aW9uSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gIFwiI3Byb2ZpbGUtZGVzY3JpcHRpb24taW5wdXRcIlxyXG4pO1xyXG5cclxuLy8gQ0FSRFNcclxuXHJcbmV4cG9ydCBjb25zdCBjYXJkc0xpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRzX19saXN0XCIpO1xyXG5cclxuZXhwb3J0IGNvbnN0IGNhcmRTZWxlY3RvciA9IFwiI2NhcmQtdGVtcGxhdGVcIjtcclxuXHJcbmV4cG9ydCBjb25zdCBwcm9maWxlRWRpdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgXCIucHJvZmlsZV9fZWRpdC1idXR0b25cIlxyXG4pO1xyXG5cclxuZXhwb3J0IGNvbnN0IGFkZENhcmRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2FkZC1idXR0b25cIik7XHJcblxyXG5leHBvcnQgY29uc3QgYWRkQ2FyZFRpdGxlRmllbGQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19pbnB1dC10aXRsZVwiKTtcclxuZXhwb3J0IGNvbnN0IGFkZENhcmRJbWFnZUxpbmtGaWVsZCA9XHJcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9faW5wdXQtbGlua1wiKTtcclxuXHJcbmV4cG9ydCBjb25zdCBjb25maWcgPSB7XHJcbiAgZm9ybVNlbGVjdG9yOiBcIi5tb2RhbF9fZm9ybVwiLFxyXG4gIGlucHV0U2VsZWN0b3I6IFwiLm1vZGFsX19pbnB1dFwiLFxyXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5tb2RhbF9fYnV0dG9uXCIsXHJcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJtb2RhbF9fYnV0dG9uX2Rpc2FibGVkXCIsXHJcbiAgaW5wdXRFcnJvckNsYXNzOiBcIm1vZGFsX19lcnJvclwiLFxyXG4gIGVycm9yQ2xhc3M6IFwibW9kYWxfX2Vycm9yX3Zpc2libGVcIixcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBhZGRDYXJkTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI25ldy1jYXJkLW1vZGFsXCIpO1xyXG5leHBvcnQgY29uc3QgcHJvZmlsZUVkaXRNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZS1lZGl0LW1vZGFsXCIpO1xyXG5leHBvcnQgY29uc3QgcHJvZmlsZUVkaXRGb3JtID0gcHJvZmlsZUVkaXRNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19mb3JtXCIpO1xyXG4iLCJpbXBvcnQgU2VjdGlvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzXCI7XHJcbmltcG9ydCBDYXJkIGZyb20gXCIuLi9jb21wb25lbnRzL0NhcmQuanNcIjtcclxuaW1wb3J0IHBvcHVwV2l0aEltYWdlIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzXCI7XHJcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanNcIjtcclxuaW1wb3J0IFVzZXJJbmZvIGZyb20gXCIuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzXCI7XHJcbmltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gXCIuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanNcIjtcclxuaW1wb3J0IEFwaSBmcm9tIFwiLi4vY29tcG9uZW50cy9BcGkuanNcIjtcclxuaW1wb3J0IFwiLi9pbmRleC5jc3NcIjtcclxuaW1wb3J0IHtcclxuICB2YWxpZGF0aW9uU2V0dGluZ3MsXHJcbiAgYWRkQ2FyZEZvcm0sXHJcbiAgYWRkQ2FyZE1vZGFsLFxyXG59IGZyb20gXCIuLi9zY3JpcHRzL3ZhbGlkYXRpb24uanNcIjtcclxuaW1wb3J0IHtcclxuICB1c2VyTmFtZUlucHV0LFxyXG4gIHVzZXJEZXNjcmlwdGlvbklucHV0LFxyXG4gIGNhcmRzTGlzdCxcclxuICBjYXJkRGF0YSxcclxuICBjYXJkU2VsZWN0b3IsXHJcbiAgcHJvZmlsZUVkaXRCdXR0b24sXHJcbiAgYWRkQ2FyZEJ1dHRvbixcclxuICBhZGRDYXJkVGl0bGVGaWVsZCxcclxuICBhZGRDYXJkSW1hZ2VMaW5rRmllbGQsXHJcbiAgcHJvZmlsZUVkaXRNb2RhbCxcclxuICBwcm9maWxlRWRpdEZvcm0sXHJcbn0gZnJvbSBcIi4uL3V0aWxzL2NvbnN0YW50LmpzXCI7XHJcblxyXG5jb25zdCBhcGkgPSBuZXcgQXBpKHtcclxuICBiYXNlVXJsOiBcImh0dHBzOi8vYXJvdW5kLWFwaS5lbi50cmlwbGV0ZW4tc2VydmljZXMuY29tL3YxXCIsXHJcbiAgYXV0aFRva2VuOiBcIjkyZjdlYmZhLTllOGUtNGZiOC1iMGEzLTFjZGFhMTVjY2JlMFwiLFxyXG59KTtcclxuXHJcbi8vQ0FSRCBTRUNUSU9OXHJcbmxldCBzZWN0aW9uO1xyXG5cclxuYXBpLmdldENhcmRMaXN0KCkudGhlbigoY2FyZERhdGEpID0+IHtcclxuICBjb25zb2xlLmxvZyhjYXJkRGF0YSk7XHJcbiAgc2VjdGlvbiA9IG5ldyBTZWN0aW9uKFxyXG4gICAge1xyXG4gICAgICBpdGVtczogY2FyZERhdGEsXHJcbiAgICAgIHJlbmRlcmVyOiAoY2FyZERhdGEpID0+IHtcclxuICAgICAgICBjb25zdCBjYXJkID0gY3JlYXRlQ2FyZChjYXJkRGF0YSk7XHJcbiAgICAgICAgc2VjdGlvbi5hZGRJdGVtKGNhcmQpO1xyXG4gICAgICB9LFxyXG4gICAgfSxcclxuICAgIGNhcmRzTGlzdFxyXG4gICk7XHJcbiAgc2VjdGlvbi5yZW5kZXJJdGVtcygpO1xyXG59KTtcclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZUNhcmQoY2FyZERhdGEpIHtcclxuICBjb25zdCBjYXJkID0gbmV3IENhcmQoY2FyZERhdGEsIGNhcmRTZWxlY3RvciwgaGFuZGxlQ2FyZENsaWNrLCAoY2FyZElEKSA9PlxyXG4gICAgaGFuZGxlRGVsZXRlQ2FyZENsaWNrKGNhcmRJRCwgY2FyZClcclxuICApO1xyXG4gIHJldHVybiBjYXJkLmdldFZpZXcoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gaGFuZGxlQ2FyZENsaWNrKGNhcmREYXRhKSB7XHJcbiAgcHJldmlld0ltYWdlUG9wdXAub3BlbihjYXJkRGF0YSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZURlbGV0ZUNhcmRDbGljayhjYXJkSUQsIGNhcmQpIHtcclxuICBhcGkucmVtb3ZlQ2FyZChjYXJkSUQpLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgY2FyZC5faGFuZGxlRGVsZXRlQ2FyZCgpO1xyXG4gIH0pO1xyXG59XHJcblxyXG4vL1VTRVIgSU5GT1xyXG5jb25zdCB1c2VySW5mbyA9IG5ldyBVc2VySW5mbyh7XHJcbiAgdXNlck5hbWVTZWxlY3RvcjogXCIucHJvZmlsZV9fdGl0bGVcIixcclxuICB1c2VyVGl0bGVTZWxlY3RvcjogXCIucHJvZmlsZV9fZGVzY3JpcHRpb25cIixcclxufSk7XHJcblxyXG5hcGkuZ2V0VXNlckluZm8oKS50aGVuKCh1c2VyKSA9PiB7XHJcbiAgdXNlckluZm8uc2V0VXNlckluZm8oe1xyXG4gICAgbmFtZTogdXNlci5uYW1lLFxyXG4gICAgam9iOiB1c2VyLmFib3V0LFxyXG4gIH0pO1xyXG59KTtcclxuXHJcbi8vUHJvZmlsZSBwaWMgY2hhbmdlXHJcbi8vIEFzc3VtaW5nIHlvdSBoYXZlIGFuIGlucHV0IGZpZWxkIHdoZXJlIHVzZXJzIGNhbiBzZWxlY3QgYSBuZXcgcHJvZmlsZSBwaWN0dXJlXHJcbmNvbnN0IHByb2ZpbGVQaWN0dXJlSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2ZpbGUtcGljdHVyZS1pbnB1dFwiKTtcclxuXHJcbi8vIEFkZCBhbiBldmVudCBsaXN0ZW5lciB0byB0aGUgaW5wdXQgZmllbGQgdG8gaGFuZGxlIHRoZSBmaWxlIHNlbGVjdGlvblxyXG5wcm9maWxlUGljdHVyZUlucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwgKGV2ZW50KSA9PiB7XHJcbiAgY29uc3QgZmlsZSA9IGV2ZW50LnRhcmdldC5maWxlc1swXTsgLy8gQXNzdW1pbmcgeW91IGFsbG93IHVzZXJzIHRvIHNlbGVjdCBvbmx5IG9uZSBmaWxlXHJcblxyXG4gIC8vIENoZWNrIGlmIGEgZmlsZSB3YXMgc2VsZWN0ZWRcclxuICBpZiAoZmlsZSkge1xyXG4gICAgYXBpXHJcbiAgICAgIC51cGRhdGVQcm9maWxlUGljdHVyZShuZXdQcm9maWxlUGljdHVyZVVybClcclxuICAgICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgIC8vIEhhbmRsZSBhIHN1Y2Nlc3NmdWwgdXBkYXRlIChlLmcuLCB1cGRhdGUgdGhlIFVJIHRvIGRpc3BsYXkgdGhlIG5ldyBwcm9maWxlIHBpY3R1cmUpXHJcbiAgICAgICAgY29uc29sZS5sb2coXCJQcm9maWxlIHBpY3R1cmUgdXBkYXRlZCBzdWNjZXNzZnVsbHlcIik7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcclxuICAgICAgICAvLyBIYW5kbGUgZXJyb3JzIGlmIHRoZSB1cGRhdGUgZmFpbHNcclxuICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgdXBkYXRpbmcgcHJvZmlsZSBwaWN0dXJlOlwiLCBlcnJvcik7XHJcbiAgICAgIH0pO1xyXG4gIH1cclxufSk7XHJcblxyXG4vL1BvcFVwV2l0aEltYWdlXHJcbmNvbnN0IHByZXZpZXdJbWFnZVBvcHVwID0gbmV3IHBvcHVwV2l0aEltYWdlKFwiI2ltYWdlLW1vZGFsXCIsIGhhbmRsZUltYWdlQ2xpY2spO1xyXG5wcmV2aWV3SW1hZ2VQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuZnVuY3Rpb24gaGFuZGxlSW1hZ2VDbGljayhjYXJkRGF0YSkge1xyXG4gIHByZXZpZXdJbWFnZVBvcHVwLm9wZW4oY2FyZERhdGEpO1xyXG59XHJcblxyXG4vL1BvcFVwV2l0aEZvcm1cclxuY29uc3QgcHJvZmlsZUVkaXRQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKFxyXG4gIFwiI3Byb2ZpbGUtZWRpdC1tb2RhbFwiLFxyXG4gIGhhbmRsZUVkaXRQcm9maWxlU3VibWl0XHJcbik7XHJcbnByb2ZpbGVFZGl0UG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxucHJvZmlsZUVkaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICBoYW5kbGVQcm9maWxlRWRpdENsaWNrKCk7XHJcbn0pO1xyXG5cclxuZnVuY3Rpb24gaGFuZGxlUHJvZmlsZUVkaXRDbGljaygpIHtcclxuICBjb25zdCB1c2VyID0gdXNlckluZm8uZ2V0VXNlckluZm8oKTtcclxuICB1c2VyTmFtZUlucHV0LnZhbHVlID0gdXNlci5uYW1lO1xyXG4gIHVzZXJEZXNjcmlwdGlvbklucHV0LnZhbHVlID0gdXNlci5qb2I7XHJcbiAgcHJvZmlsZUVkaXRQb3B1cC5vcGVuKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZUVkaXRQcm9maWxlU3VibWl0KGlucHV0VmFsdWVzKSB7XHJcbiAgdXNlckluZm8uc2V0VXNlckluZm8oaW5wdXRWYWx1ZXMpO1xyXG4gIHByb2ZpbGVFZGl0UG9wdXAuY2xvc2UoKTtcclxufVxyXG5cclxuLy8gQWRkIENhcmQgTW9kYWxcclxuY29uc3QgYWRkQ2FyZFBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oXCIjbmV3LWNhcmQtbW9kYWxcIiwgaGFuZGxlQWRkQ2FyZFN1Ym1pdCk7XHJcbmFkZENhcmRQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5hZGRDYXJkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgYWRkQ2FyZEZvcm1WYWxpZGF0b3IucmVzZXRWYWxpZGF0aW9uKCk7XHJcbiAgYWRkQ2FyZFBvcHVwLm9wZW4oKTtcclxufSk7XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVBZGRDYXJkU3VibWl0KGlucHV0VmFsdWVzKSB7XHJcbiAgYXBpLmFkZENhcmQoaW5wdXRWYWx1ZXMpLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgY29uc3QgbmV3Q2FyZCA9IGNyZWF0ZUNhcmQocmVzKTtcclxuICAgIHNlY3Rpb24uYWRkSXRlbShuZXdDYXJkKTtcclxuICAgIGFkZENhcmRQb3B1cC5jbG9zZSgpO1xyXG4gIH0pO1xyXG59XHJcblxyXG4vLyBGT1JNIFZBTElEQVRJT05cclxuXHJcbmNvbnN0IGVkaXRQcm9maWxlRm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKFxyXG4gIHZhbGlkYXRpb25TZXR0aW5ncyxcclxuICBwcm9maWxlRWRpdEZvcm1cclxuKTtcclxuZWRpdFByb2ZpbGVGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuXHJcbmNvbnN0IGFkZENhcmRGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IodmFsaWRhdGlvblNldHRpbmdzLCBhZGRDYXJkRm9ybSk7XHJcbmFkZENhcmRGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBpIHtcclxuICBjb25zdHJ1Y3Rvcih7IGJhc2VVcmwsIGF1dGhUb2tlbiB9KSB7XHJcbiAgICB0aGlzLl9iYXNlVXJsID0gYmFzZVVybDtcclxuICAgIHRoaXMuX2F1dGhUb2tlbiA9IGF1dGhUb2tlbjtcclxuICB9XHJcblxyXG4gIGdldENhcmRMaXN0KCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5fYXV0aFRva2VuLFxyXG4gICAgICB9LFxyXG4gICAgfSlcclxuICAgICAgLnRoZW4oKHJlcykgPT5cclxuICAgICAgICByZXMub2sgPyByZXMuanNvbigpIDogUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YClcclxuICAgICAgKVxyXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcclxuICAgICAgfSk7XHJcbiAgfVxyXG5cclxuICBnZXRVc2VySW5mbygpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHtcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgIGF1dGhvcml6YXRpb246IHRoaXMuX2F1dGhUb2tlbixcclxuICAgICAgfSxcclxuICAgIH0pXHJcbiAgICAgIC50aGVuKChyZXMpID0+XHJcbiAgICAgICAgcmVzLm9rID8gcmVzLmpzb24oKSA6IFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApXHJcbiAgICAgIClcclxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XHJcbiAgICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLy8gICBnZXRBcHBJbmZvKCkgW09wdGlvbmFsXVxyXG5cclxuICBhZGRDYXJkKHsgbmFtZSwgbGluayB9KSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICBhdXRob3JpemF0aW9uOiB0aGlzLl9hdXRoVG9rZW4sXHJcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXHJcbiAgICAgIH0sXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBuYW1lLFxyXG4gICAgICAgIGxpbmssXHJcbiAgICAgIH0pLFxyXG4gICAgfSlcclxuICAgICAgLnRoZW4oKHJlcykgPT5cclxuICAgICAgICByZXMub2sgPyByZXMuanNvbigpIDogUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YClcclxuICAgICAgKVxyXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcclxuICAgICAgfSk7XHJcbiAgfVxyXG5cclxuICByZW1vdmVDYXJkKGNhcmRJRCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7Y2FyZElEfWAsIHtcclxuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5fYXV0aFRva2VuLFxyXG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxyXG4gICAgICB9LFxyXG4gICAgfSlcclxuICAgICAgLnRoZW4oKHJlcykgPT5cclxuICAgICAgICByZXMub2sgPyByZXMuanNvbigpIDogUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YClcclxuICAgICAgKVxyXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcclxuICAgICAgfSk7XHJcbiAgfVxyXG5cclxuICB1cGRhdGVQcm9maWxlUGljdHVyZShhdmF0YXJVcmwpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZS9hdmF0YXJgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5fYXV0aFRva2VuLFxyXG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxyXG4gICAgICB9LFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgYXZhdGFyOiBhdmF0YXJVcmwsXHJcbiAgICAgIH0pLFxyXG4gICAgfSlcclxuICAgICAgLnRoZW4oKHJlcykgPT5cclxuICAgICAgICByZXMub2sgPyByZXMuanNvbigpIDogUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YClcclxuICAgICAgKVxyXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcclxuICAgICAgfSk7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcclxuICBjb25zdHJ1Y3RvcihzZWxlY3RvcnMpIHtcclxuICAgIHRoaXMubmFtZUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9ycy51c2VyTmFtZVNlbGVjdG9yKTtcclxuICAgIHRoaXMuam9iRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3JzLnVzZXJUaXRsZVNlbGVjdG9yKTtcclxuICB9XHJcblxyXG4gIGdldFVzZXJJbmZvKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgbmFtZTogdGhpcy5uYW1lRWxlbWVudC50ZXh0Q29udGVudCxcclxuICAgICAgam9iOiB0aGlzLmpvYkVsZW1lbnQudGV4dENvbnRlbnQsXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgc2V0VXNlckluZm8odXNlcikge1xyXG4gICAgdGhpcy5uYW1lRWxlbWVudC50ZXh0Q29udGVudCA9IHVzZXIubmFtZTtcclxuICAgIHRoaXMuam9iRWxlbWVudC50ZXh0Q29udGVudCA9IHVzZXIuam9iO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBQb3B1cCB9IGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2NvbnRhaW5lckltYWdlID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIFwiLm1vZGFsX19jb250YWluZXItaW1hZ2VcIlxyXG4gICAgKTtcclxuICAgIHRoaXMuX2NvbnRhaW5lckltYWdlVGl0bGUgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgXCIubW9kYWxfX2ltYWdlX3RpdGxlXCJcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICBvcGVuKHsgbmFtZSwgbGluayB9KSB7XHJcbiAgICBjb25zdCBpbWFnZSA9IHRoaXMuX2NvbnRhaW5lckltYWdlLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2ltYWdlXCIpO1xyXG4gICAgdGhpcy5fY29udGFpbmVySW1hZ2VUaXRsZS50ZXh0Q29udGVudCA9IG5hbWU7XHJcbiAgICBpbWFnZS5hbHQgPSBuYW1lO1xyXG4gICAgaW1hZ2Uuc3JjID0gbGluaztcclxuICAgIHN1cGVyLm9wZW4oKTtcclxuICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbIlNlY3Rpb24iLCJjb25zdHJ1Y3RvciIsIl9yZWYiLCJjb250YWluZXIiLCJpdGVtcyIsInJlbmRlcmVyIiwidGhpcyIsIl9pdGVtcyIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJyZW5kZXJJdGVtcyIsImNvbnNvbGUiLCJsb2ciLCJmb3JFYWNoIiwiaXRlbSIsImFkZEl0ZW0iLCJwcmVwZW5kIiwiQ2FyZCIsImNhcmRTZWxlY3RvciIsImhhbmRsZUltYWdlQ2xpY2siLCJoYW5kbGVEZWxldGVDYXJkQ2xpY2siLCJuYW1lIiwibGluayIsIl9pZCIsIl9uYW1lIiwiX2xpbmsiLCJfY2FyZFNlbGVjdG9yIiwiX2NhcmRFbGVtZW50IiwiX2dldFRlbXBsYXRlIiwiX2NhcmRMaWtlQnV0dG9uIiwicXVlcnlTZWxlY3RvciIsIl9jYXJkRGVsZXRlQnV0dG9uIiwiX2hhbmRsZURlbGV0ZUNhcmRDbGljayIsIl9jYXJkSW1hZ2UiLCJfaGFuZGxlSW1hZ2VDbGljayIsIl9zZXRFdmVudExpc3RlbmVycyIsImdldElkIiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9oYW5kbGVMaWtlSWNvbiIsImNsYXNzTGlzdCIsInRvZ2dsZSIsIl9oYW5kbGVEZWxldGVDYXJkIiwicmVtb3ZlIiwiZG9jdW1lbnQiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiZ2V0VmlldyIsInNyYyIsImFsdCIsInRleHRDb250ZW50IiwiUG9wdXAiLCJwb3B1cFNlbGVjdG9yIiwiX3BvcHVwRWxlbWVudCIsIl9wb3B1cENsb3NlQnV0dG9uIiwib3BlbiIsImFkZCIsIl9oYW5kbGVFc2NDbG9zZSIsImNsb3NlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImV2ZW50Iiwia2V5Iiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJldnQiLCJ0YXJnZXQiLCJjb250YWlucyIsIlBvcHVwV2l0aEZvcm0iLCJoYW5kbGVGb3JtU3VibWl0Iiwic3VwZXIiLCJfZm9ybSIsIl9oYW5kbGVGb3JtU3VibWl0IiwiX2dldElucHV0VmFsdWVzIiwidmFsdWVzIiwicXVlcnlTZWxlY3RvckFsbCIsImlucHV0IiwidmFsdWUiLCJfc3VibWl0SGFuZGxlciIsInByZXZlbnREZWZhdWx0IiwiaW5wdXRWYWx1ZXMiLCJyZXNldCIsInNldHRpbmdzIiwiZm9ybUVsZW1lbnQiLCJfZm9ybVNlbGVjdG9yIiwiZm9ybVNlbGVjdG9yIiwiaW5wdXRTZWxlY3RvciIsIl9zdWJtaXRCdXR0b25TZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiX2luYWN0aXZlQnV0dG9uQ2xhc3MiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiX2lucHV0RXJyb3JDbGFzcyIsIl9lcnJvckNsYXNzIiwiX3Nob3dJbnB1dEVycm9yIiwiaW5wdXRFbGVtZW50IiwiZXJyb3JNZXNzYWdlRWxlbWVudCIsImlkIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJfaGlkZUlucHV0RXJyb3IiLCJfY2hlY2tJbnB1dFZhbGlkaXR5IiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9oYXNJbnZhbGlkSW5wdXQiLCJpbnB1dEVsZW1lbnRzIiwiX2lucHV0RWxlbWVudHMiLCJldmVyeSIsIl9kaXNhYmxlQnV0dG9uIiwiX3N1Ym1pdEJ1dHRvbiIsImRpc2FibGVkIiwiX2VuYWJsZUJ1dHRvbiIsIl90b2dnbGVCdXR0b25TdGF0ZSIsInJlc2V0VmFsaWRhdGlvbiIsIl9pbnB1dFNlbGVjdG9yIiwiZW5hYmxlVmFsaWRhdGlvbiIsInZhbGlkYXRpb25TZXR0aW5ncyIsImlucHV0RXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJvcHRpb25zIiwic3VibWl0QnV0dG9uIiwiX3JlZjIiLCJoaWRlSW5wdXRFcnJvciIsInNob3dJbnB1dEVycm9yIiwiY2hlY2tJbnB1dFZhbGlkaXR5IiwidmFsaWRhdGlvbkNvbmZpZyIsImlzRm9ybVZhbGlkIiwiY2hlY2tGb3JtVmFsaWRpdHkiLCJlbmFibGVCdXR0b24iLCJkaXNhYmxlQnV0dG9uIiwidG9nZ2xlQnV0dG9uU3RhdGUiLCJhZGRDYXJkRm9ybSIsInVzZXJOYW1lSW5wdXQiLCJ1c2VyRGVzY3JpcHRpb25JbnB1dCIsImNhcmRzTGlzdCIsInByb2ZpbGVFZGl0QnV0dG9uIiwiYWRkQ2FyZEJ1dHRvbiIsInByb2ZpbGVFZGl0Rm9ybSIsImFwaSIsImJhc2VVcmwiLCJhdXRoVG9rZW4iLCJfYmFzZVVybCIsIl9hdXRoVG9rZW4iLCJnZXRDYXJkTGlzdCIsImZldGNoIiwiaGVhZGVycyIsImF1dGhvcml6YXRpb24iLCJ0aGVuIiwicmVzIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1cyIsImNhdGNoIiwiZXJyIiwiZXJyb3IiLCJnZXRVc2VySW5mbyIsImFkZENhcmQiLCJtZXRob2QiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsInJlbW92ZUNhcmQiLCJjYXJkSUQiLCJ1cGRhdGVQcm9maWxlUGljdHVyZSIsImF2YXRhclVybCIsImF2YXRhciIsInNlY3Rpb24iLCJjcmVhdGVDYXJkIiwiY2FyZERhdGEiLCJjYXJkIiwiaGFuZGxlQ2FyZENsaWNrIiwicHJldmlld0ltYWdlUG9wdXAiLCJ1c2VySW5mbyIsInNlbGVjdG9ycyIsIm5hbWVFbGVtZW50IiwidXNlck5hbWVTZWxlY3RvciIsImpvYkVsZW1lbnQiLCJ1c2VyVGl0bGVTZWxlY3RvciIsImpvYiIsInNldFVzZXJJbmZvIiwidXNlciIsImFib3V0IiwiZmlsZXMiLCJuZXdQcm9maWxlUGljdHVyZVVybCIsIl9jb250YWluZXJJbWFnZSIsIl9jb250YWluZXJJbWFnZVRpdGxlIiwiaW1hZ2UiLCJwcm9maWxlRWRpdFBvcHVwIiwiaGFuZGxlUHJvZmlsZUVkaXRDbGljayIsImFkZENhcmRQb3B1cCIsIm5ld0NhcmQiLCJhZGRDYXJkRm9ybVZhbGlkYXRvciIsIkZvcm1WYWxpZGF0b3IiXSwic291cmNlUm9vdCI6IiJ9